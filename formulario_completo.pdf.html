
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>PDF con m√°s campos</title>
  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
</head>
<body>
  <h2>üìÑ Generar PDF con m√°s campos llenados</h2>
  <button onclick="generarPDF()">Generar PDF</button>

  <script>
    async function generarPDF() {
      try {
        const existingPdfBytes = await fetch('formulario_editable.pdf').then(res => res.arrayBuffer());
        const pdfDoc = await PDFLib.PDFDocument.load(existingPdfBytes);
        const page = pdfDoc.getPages()[0];
        const font = await pdfDoc.embedFont(PDFLib.StandardFonts.Helvetica);

        const datos = {
          primer_apellido: "PEREZ",
          segundo_apellido: "LOPEZ",
          primer_nombre: "PEDRO",
          segundo_nombre: "JOSE",
          tipo_doc: "CC",
          num_doc: "1001971041",
          sexo_biologico: "M",
          sexo_identidad: "M",
          nacionalidad: "COLOMBIANA",
          lugar_nacimiento: "BOGOT√Å",
          pais: "COLOMBIA",
          departamento: "CUNDINAMARCA",
          municipio: "BOGOT√Å",
          fecha_nacimiento: "1990-01-01",
          etnia: "NINGUNA",
          discapacidad: "NO",
          comunidad_indigena: "NINGUNA",
          categoria_discapacidad: "NINGUNA",
          encuesta_sisben: "SI",
          clasificacion_sisben: "B1",
          arl: "SURA",
          afp: "PROTECCI√ìN",
          correo: "correo@ejemplo.com",
          telefono: "1234567890",
          direccion: "CALLE 123 # 45-67",
          localidad: "KENNEDY",
          zona: "URBANA"
        };

        // Informaci√≥n b√°sica
        page.drawText(datos.primer_apellido, { x: 65, y: 555, size: 10, font });
        page.drawText(datos.segundo_apellido, { x: 185, y: 555, size: 10, font });
        page.drawText(datos.primer_nombre, { x: 300, y: 555, size: 10, font });
        page.drawText(datos.segundo_nombre, { x: 420, y: 555, size: 10, font });
        page.drawText(datos.tipo_doc, { x: 70, y: 535, size: 10, font });
        page.drawText(datos.num_doc, { x: 185, y: 535, size: 10, font });
        page.drawText(datos.sexo_biologico, { x: 340, y: 535, size: 10, font });
        page.drawText(datos.sexo_identidad, { x: 400, y: 535, size: 10, font });
        page.drawText(datos.nacionalidad, { x: 65, y: 515, size: 10, font });
        page.drawText(datos.lugar_nacimiento, { x: 185, y: 515, size: 10, font });
        page.drawText(datos.pais, { x: 305, y: 515, size: 10, font });
        page.drawText(datos.departamento, { x: 395, y: 515, size: 10, font });
        page.drawText(datos.municipio, { x: 500, y: 515, size: 10, font });
        page.drawText(datos.fecha_nacimiento, { x: 530, y: 535, size: 10, font });

        // Datos complementarios
        page.drawText(datos.etnia, { x: 65, y: 490, size: 10, font });
        page.drawText(datos.comunidad_indigena, { x: 185, y: 490, size: 10, font });
        page.drawText(datos.discapacidad, { x: 300, y: 490, size: 10, font });
        page.drawText(datos.categoria_discapacidad, { x: 390, y: 490, size: 10, font });
        page.drawText(datos.encuesta_sisben, { x: 485, y: 490, size: 10, font });
        page.drawText(datos.clasificacion_sisben, { x: 550, y: 490, size: 10, font });

        // Contacto y residencia
        page.drawText(datos.arl, { x: 65, y: 470, size: 10, font });
        page.drawText(datos.afp, { x: 185, y: 470, size: 10, font });
        page.drawText(datos.telefono, { x: 305, y: 470, size: 10, font });
        page.drawText(datos.correo, { x: 420, y: 470, size: 10, font });
        page.drawText(datos.direccion, { x: 65, y: 450, size: 10, font });
        page.drawText(datos.localidad, { x: 305, y: 450, size: 10, font });
        page.drawText(datos.zona, { x: 480, y: 450, size: 10, font });

        const pdfBytes = await pdfDoc.save();
        const blob = new Blob([pdfBytes], { type: 'application/pdf' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'formulario_ampliado.pdf';
        link.click();
      } catch (error) {
        console.error("‚ùå Error al generar el PDF:", error);
      }
    }
  </script>
</body>
</html>
